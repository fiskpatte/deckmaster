(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{225:function(e,t,a){e.exports=a(397)},230:function(e,t,a){},231:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},391:function(e,t,a){},392:function(e,t,a){},393:function(e,t,a){},394:function(e,t,a){},396:function(e,t,a){},397:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),i=a.n(c),l=(a(230),a(231),a(15)),u=a(16),o=a(19),s=a(17),m=a(18),d=a(406),h=a(40),b=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).handleItemClick=function(e,t){var n=t.path;a.props.history.push(n)},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.history.location.pathname;return r.a.createElement(d.a,{color:"blue",inverted:!0,icon:"labeled"},r.a.createElement(d.a.Item,{path:"/deckofficer",active:e.includes("/deckofficer")||"/"===e,onClick:this.handleItemClick},"Deck officer"),r.a.createElement(d.a.Item,{path:"/tugmaster",active:e.includes("/tugmaster"),onClick:this.handleItemClick},"Tugmaster"))}}]),t}(n.Component),f=Object(h.f)(b),E=a(215),p=a(51),v=a(408),N=a(405),k=a(402),C=a(398),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={registrationKey:""},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){this.inputRef.focus()}},{key:"onChange",value:function(e){this.setState({registrationKey:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h4",null,"Vehicle registration number"),r.a.createElement(k.a,{autoFocus:!0,ref:function(t){return e.inputRef=t},onChange:function(t){return e.onChange(t)}}),r.a.createElement(C.a,{positive:!0,disabled:!this.state.registrationKey||""===this.state.registrationKey,onClick:function(){return e.props.onSubmit(e.state.registrationKey)}},"Continue"))}}]),t}(n.Component),g={REGISTRATION_KEY_INPUT:1,DECK_PICKER:2,LANE_PICKER:3,REGISTRATION_KEY_CONFIRM:4},I=(a(337),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h4",null,"Deck"),r.a.createElement("div",{className:"flexcolumn"},this.props.decks.map(function(t,a){return r.a.createElement(C.a,{className:"DeckButton",positive:!0,key:a,onClick:function(){return e.props.onSubmit(t)}},"Deck "+t)})))}}]),t}(n.Component)),y=a(403),K=a(404),j=(a(338),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.centered,n=e.registrationKey,c=e.handleAction;return r.a.createElement(y.a,{open:t,centered:a},r.a.createElement(y.a.Header,null,"Vehicle info"),r.a.createElement(y.a.Content,null,r.a.createElement(K.a,{celled:!0},r.a.createElement(K.a.Body,null,r.a.createElement(R,{label:"Registration number",value:n}),r.a.createElement(R,{label:"Type",value:"Truck"}),r.a.createElement(R,{label:"Length",value:"8.0 m"}),r.a.createElement(R,{label:"Width",value:"2.1 m"}),r.a.createElement(R,{label:"Height",value:"3.2 m"}),r.a.createElement(R,{label:"Weigth",value:"18 t"})))),r.a.createElement(y.a.Actions,null,r.a.createElement(C.a,{negative:!0,onClick:function(){return c(!1)}},"Cancel"),r.a.createElement(C.a,{positive:!0,onClick:function(){return c(!0)}},"Confirm")))}}]),t}(n.Component));function R(e){var t=e.label,a=e.value;return r.a.createElement(K.a.Row,null,r.a.createElement(K.a.Cell,{className:"InfoRowLabel"},t),r.a.createElement(K.a.Cell,{className:"InfoRowValue"},a))}a(391);var S=a(3),T=a.n(S),_=(a(392),a(393),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.frames,a=e.frame,n=e.vehicle,c=e.selectedFrame,i=e.onClickCallback,l=!e.disabled&&a===c,u=!!n,o=t[t.length-1]===a,s=T()("Frame","flexcolumn",{FrameOccupied:u,FrameSelected:l,FrameLast:o});return r.a.createElement("div",{className:s,onClick:function(e){return i(e,a,u)}},r.a.createElement("div",null,a),n?r.a.createElement("div",null,n.registrationKey):null)}}]),t}(n.Component)),A=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"onClickLane",value:function(){var e=this.props,t=e.lane,a=e.selectedLane,n=e.updateLaneAndFrame,r=e.vehicles,c=e.frames;r.length!==c.length&&(t!==a&&n(t,this.getSuggestedFrame(t)))}},{key:"onClickFrame",value:function(e,t,a){var n=this.props,r=n.lane,c=n.selectedLane,i=n.updateLaneAndFrame;r!==c||a||(e.stopPropagation(),i(r,t))}},{key:"getSuggestedFrame",value:function(e){var t=this.props,a=t.vehicles,n=t.frames.filter(function(e){return!a.some(function(t){return t.frameNumber===e})});return n.length>0?n.reverse()[0]:""}},{key:"render",value:function(){var e=this,t=this.props,a=t.lane,n=t.selectedLane,c=t.selectedFrame,i=t.vehicles,l=t.frames,u=a===n,o=T()("Lane",{LaneSelected:u});return r.a.createElement("div",{className:"LaneContainer flexrow",onClick:function(){return e.onClickLane()}},r.a.createElement("h4",{className:"LaneLabel"},"Lane ",a),r.a.createElement("div",{className:o},r.a.createElement("div",{className:"FrameContainer flexrow"},l.map(function(t,a){var n=i.find(function(e){return e.frameNumber===t});return r.a.createElement(_,{key:a,frames:l,frame:t,selectedFrame:c,vehicle:n,onClickCallback:function(t,a,n){return e.onClickFrame(t,a,n)},disabled:!u})}))))}}]),t}(n.Component),L=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.deckNumber,n=t.assignedVehicles,c=t.lanes,i=t.frames,l=t.selectedLane,u=t.selectedFrame,o=t.updateLaneAndFrame;if(""===a)return null;var s=n.filter(function(e){return e.deckNumber===a});return r.a.createElement("div",{className:"DeckMap"},c.map(function(e,t){var a=s.filter(function(t){return t.laneNumber===e});return r.a.createElement(A,{key:t,lane:e,frames:i,selectedLane:l,selectedFrame:u,vehicles:a,updateLaneAndFrame:o})}),r.a.createElement(C.a,{positive:!0,onClick:function(){return e.props.onSubmit(l,u)}},"Continue"))}}]),t}(n.Component),P=(a(394),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.centered,n=e.registrationKey,c=e.deckNumber,i=e.laneNumber,l=e.frameNumber,u=e.handleAction;return r.a.createElement(y.a,{open:t,centered:a},r.a.createElement(y.a.Header,null,"Confirm vehicle"),r.a.createElement(y.a.Content,null,r.a.createElement("p",null,"Registration number: ".concat(n)),r.a.createElement("p",null,"Deck: ".concat(c)),r.a.createElement("p",null,"Lane: ".concat(i)),r.a.createElement("p",null,"Frame: ".concat(l))),r.a.createElement(y.a.Actions,null,r.a.createElement(C.a,{negative:!0,onClick:function(){return u(!1)}},"Cancel"),r.a.createElement(C.a,{positive:!0,onClick:function(){return u(!0)}},"Confirm")))}}]),t}(n.Component)),F=["1","2","3","4","5"],w=["5","4","3","2","1"],D=["000","020","040","060","080","100"],M=[{id:g.REGISTRATION_KEY_INPUT,title:"Reg nr"},{id:g.DECK_PICKER,title:"Deck"},{id:g.LANE_PICKER,title:"Lane"}],G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={registrationKey:"",deckNumber:"",laneNumber:"",frameNumber:"",confirmationModalOpen:!1,currentStep:g.REGISTRATION_KEY_INPUT,vehicleModalOpen:!1,assignedVehicles:[]},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.vehicleModalAction=a.vehicleModalAction.bind(Object(p.a)(a)),a.confirmationModalAction=a.confirmationModalAction.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"renderStepComponent",value:function(){var e=this,t=this.state,a=t.currentStep,n=t.registrationKey,c=t.deckNumber,i=t.frameNumber,l=t.laneNumber,u=t.assignedVehicles;switch(a){case g.REGISTRATION_KEY_INPUT:return r.a.createElement(O,{onSubmit:this.handleSubmit});case g.DECK_PICKER:return r.a.createElement(I,{decks:w,onSubmit:this.handleSubmit});case g.LANE_PICKER:return r.a.createElement(L,{deckNumber:c,selectedLane:l,selectedFrame:i,registrationKey:n,lanes:F,decks:w,frames:D,assignedVehicles:u,updateLaneAndFrame:function(t,a){return e.setState({laneNumber:t,frameNumber:a})},onSubmit:this.handleSubmit});default:return null}}},{key:"handleSubmit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""!==e)switch(this.state.currentStep){case g.REGISTRATION_KEY_INPUT:this.setState({vehicleModalOpen:!0,registrationKey:e,currentStep:g.REGISTRATION_KEY_CONFIRM});break;case g.REGISTRATION_KEY_CONFIRM:this.setState({currentStep:g.DECK_PICKER});break;case g.DECK_PICKER:this.setState({currentStep:g.LANE_PICKER,deckNumber:e});break;case g.LANE_PICKER:if(""===t)return;this.setState({confirmationModalOpen:!0,laneNumber:e,frameNumber:t});break;default:return null}}},{key:"handleClick",value:function(e,t){switch(t.step){case g.REGISTRATION_KEY_INPUT:this.setState({currentStep:g.REGISTRATION_KEY_INPUT,registrationKey:"",deckNumber:"",laneNumber:"",frameNumber:""});break;case g.DECK_PICKER:this.setState({currentStep:g.DECK_PICKER,deckNumber:"",laneNumber:"",frameNumber:""});break;case g.LANE_PICKER:this.setState({currentStep:g.LANE_PICKER,laneNumber:"",frameNumber:""});break;default:return null}}},{key:"isStepDisabled",value:function(e){var t=this.state,a=t.registrationKey,n=t.deckNumber;switch(e){case g.REGISTRATION_KEY_INPUT:return!1;case g.DECK_PICKER:return""===a;case g.LANE_PICKER:return""===n;default:return!0}}},{key:"stepDescription",value:function(e){var t=this.state,a=t.registrationKey,n=t.deckNumber,r=t.laneNumber,c=t.frameNumber;switch(e){case g.REGISTRATION_KEY_INPUT:return a;case g.DECK_PICKER:return n;case g.LANE_PICKER:return"".concat(r," ").concat(c);default:return!0}}},{key:"confirmationModalAction",value:function(e){if(e){var t=this.state,a=t.registrationKey,n=t.deckNumber,r=t.frameNumber,c=t.laneNumber,i=t.assignedVehicles,l={registrationKey:a,deckNumber:n,frameNumber:r,laneNumber:c},u=[].concat(Object(E.a)(i),[l]);this.setState({currentStep:g.REGISTRATION_KEY_INPUT,registrationKey:"",deckNumber:"",laneNumber:"",frameNumber:"",confirmationModalOpen:!1,assignedVehicles:u})}else this.setState({confirmationModalOpen:!1})}},{key:"vehicleModalAction",value:function(e){e?(this.setState({vehicleModalOpen:!1}),this.handleSubmit(this.state.registrationKey)):this.setState({vehicleModalOpen:!1,currentStep:g.REGISTRATION_KEY_INPUT,registrationKey:""})}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentStep,n=t.registrationKey,c=t.deckNumber,i=t.frameNumber,l=t.laneNumber,u=t.confirmationModalOpen,o=t.vehicleModalOpen;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(N.a.Group,null,M.map(function(t,n){return r.a.createElement(N.a,{key:n,step:t.id,active:a===t.id,disabled:e.isStepDisabled(t.id),onClick:e.handleClick},r.a.createElement(N.a.Content,null,r.a.createElement(N.a.Title,null,t.title),r.a.createElement(N.a.Description,null,e.stepDescription(t.id))))})),this.renderStepComponent(),r.a.createElement(P,{open:u,centered:!1,registrationKey:n,deckNumber:c,laneNumber:l,frameNumber:i,handleAction:this.confirmationModalAction}),r.a.createElement(j,{open:o,centered:!1,registrationKey:this.state.registrationKey,handleAction:this.vehicleModalAction})))}}]),t}(n.Component),Y=(a(396),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,{className:"TugmasterInstruction"},r.a.createElement("h4",null,"Next instruction"),r.a.createElement("div",{className:"flexcolumn"},r.a.createElement("div",{className:"TugmasterRow"},r.a.createElement("label",{className:"TugmasterLabel"},"Go to"),r.a.createElement("span",{className:"TugmasterValue"},"22C")),r.a.createElement("div",{className:"TugmasterRow"},r.a.createElement("label",{className:"TugmasterLabel"},"Get vehicle"),r.a.createElement("span",{className:"TugmasterValue"},"ABC 123")),r.a.createElement("div",{className:"TugmasterRow"},r.a.createElement("label",{className:"TugmasterLabel"},"Place at"),r.a.createElement("span",{className:"TugmasterValue"},"Deck 3 - Lane 2 - Frame 122")),r.a.createElement(C.a,{className:"DoneButton",positive:!0},"Done")))}}]),t}(n.Component)),U=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{className:"MainContainer"},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:G}),r.a.createElement(h.a,{path:"/deckofficer",component:G}),r.a.createElement(h.a,{path:"/tugmaster",component:Y})))}}]),t}(n.Component);var V=function(){return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement(U,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=a(91);i.a.render(r.a.createElement(x.a,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[225,1,2]]]);
//# sourceMappingURL=main.ecd3b02f.chunk.js.map